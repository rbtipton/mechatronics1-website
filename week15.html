<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mechatronics 1: Week 15 Study Guide</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            color: #1f2937;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
        }
        .nav-button {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 0.75rem 0.5rem;
          border-radius: 0.5rem;
          font-weight: 600;
          transition: background-color 0.3s ease, color 0.3s ease, transform 0.2s ease;
          flex: 1; /* Make buttons take equal width */
          text-align: center;
        }
        .nav-button.active {
          background-color: #4f46e5; /* indigo-600 */
          color: white;
          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
          transform: translateY(-2px);
        }
        .nav-button:not(.active) {
          background-color: #e5e7eb; /* gray-200 */
          color: #374151; /* gray-700 */
        }
        .nav-button:not(.active):hover {
          background-color: #d1d5db; /* gray-300 */
        }
        .nav-button svg {
          margin-bottom: 0.25rem;
        }
        @media (min-width: 640px) { /* sm breakpoint */
          .nav-button {
            padding: 1rem 1rem;
          }
        }
        @media (min-width: 768px) { /* md breakpoint */
          .nav-button {
            padding: 1rem 1.5rem;
          }
        }
        .formula-box {
            background-color: #e0f2fe; /* Light blue background */
            border-left: 4px solid #38bdf8; /* Blue border on left */
            padding: 1rem;
            border-radius: 0.5rem;
            font-family: 'Fira Code', 'Cascadia Code', 'Consolas', monospace; /* Monospace font */
            font-size: 1rem;
            color: #0c4a6e; /* Darker blue text */
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);
        }
    </style>
</head>
<body class="antialiased">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Lucide React icons (inline SVGs for direct use in HTML)
        const BookOpenText = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>;
        const FlaskConical = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M10 2v6c0 2.2-1.8 4-4 4H2"/><path d="M14 2v6c0 2.2 1.8 4 4 4h4"/><path d="M21 15c.8-1 1-2.2.6-3.4-.4-1.1-1.5-1.7-2.7-1.6-1.2.1-2.2.9-2.6 2.1-.4 1.1-.2 2.5.6 3.4l2.9 3.2c1.3 1.4 3.3 1.4 4.6 0 .4-.5.7-1.2.8-1.9L21 15z"/><path d="M9 15c-.8-1-1-2.2-.6-3.4.4-1.1 1.5-1.7 2.7-1.6 1.2.1 2.2.9 2.6 2.1.4 1.1.2 2.5-.6 3.4l-2.9 3.2c-1.3 1.4-3.3 1.4-4.6 0-.4-.5-.7-1.2-.8-1.9L9 15z"/></svg>;
        const Award = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="8" r="6"/><path d="M15.477 12.89L17.18 21l-5.15-3.62L6.82 21l1.703-8.11"/></svg>;
        const CheckCircle = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><path d="m9 11 3 3L22 4"/></svg>;
        const XCircle = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><path d="m15 9-6 6"/><path d="m9 9 6 6"/></svg>;
        const Home = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>;

        // Icons for Week 15
        const LayoutDashboard = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="7" height="9" x="3" y="3" rx="1"/><rect width="7" height="5" x="14" y="3" rx="1"/><rect width="7" height="9" x="14" y="12" rx="1"/><rect width="7" height="5" x="3" y="16" rx="1"/></svg>;
        const Wrench = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.77 3.77Z"/></svg>;
        const Power = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M12 12V2"/><path d="M18.83 5.27a10 10 0 1 1-13.66 0"/></svg>;
        const Zap = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>;


        // Concept Review Component
        const ConceptReview = () => {
          return (
            <div className="p-6 bg-white rounded-lg shadow-lg">
              <h2 className="text-3xl font-bold text-gray-800 mb-6 border-b-2 pb-2">Week 15: Mechatronic Design Process & Practical Considerations</h2>

              {/* Mechatronic Design Process Overview */}
              <section className="mb-8">
                <h3 className="text-2xl font-semibold text-indigo-700 mb-3 flex items-center">
                    <LayoutDashboard className="w-7 h-7 mr-3 text-blue-600"/>
                    1. Mechatronic Design Process Overview
                </h3>
                <p className="text-gray-700 leading-relaxed mb-2">
                  Designing a mechatronic system is an iterative process, requiring an interdisciplinary approach integrating mechanical, electrical, and computer science engineering principles.
                </p>
                <h4 className="text-xl font-medium text-gray-800 mb-2 mt-4">A. Define Problem & Requirements:</h4>
                <ul className="list-disc list-inside text-gray-700 ml-4 space-y-2">
                  <li>Clearly articulate what the system needs to do. What problem is it solving?</li>
                  <li>Define functionality, performance criteria (speed, accuracy, force), environmental conditions, safety, cost, size, power, user interface.</li>
                </ul>
                <h4 className="text-xl font-medium text-gray-800 mb-2 mt-4">B. Conceptual Design:</h4>
                <ul className="list-disc list-inside text-gray-700 ml-4 space-y-2">
                  <li>Brainstorm various solutions.</li>
                  <li>Develop block diagrams (e.g., input -> controller -> output).</li>
                  <li>Select appropriate sensors, actuators, and control strategies.</li>
                  <li>Consider open-loop vs. closed-loop control.</li>
                </ul>
                <h4 className="text-xl font-medium text-gray-800 mb-2 mt-4">C. Detailed Design:</h4>
                <ul className="list-disc list-inside text-gray-700 ml-4 space-y-2">
                  <li>Select specific components (part numbers, datasheets).</li>
                  <li>Design mechanical structures, electrical circuits (schematics, PCB layout), and control algorithms (flowcharts, pseudocode).</li>
                  <li>Perform calculations (e.g., motor sizing, resistor values, power budget).</li>
                </ul>
                <h4 className="text-xl font-medium text-gray-800 mb-2 mt-4">D. Prototyping & Implementation:</h4>
                <ul className="list-disc list-inside text-gray-700 ml-4 space-y-2">
                  <li>Build a physical prototype (breadboard, custom PCB, mechanical assembly).</li>
                  <li>Write and test software (Arduino sketches, Python scripts).</li>
                  <li>Integrate hardware and software.</li>
                </ul>
                <h4 className="text-xl font-medium text-gray-800 mb-2 mt-4">E. Testing & Validation:</h4>
                <ul className="list-disc list-inside text-gray-700 ml-4 space-y-2">
                  <li>Verify that the system meets all defined requirements.</li>
                  <li>Perform functional tests, performance tests, and stress tests.</li>
                  <li>Identify and troubleshoot issues.</li>
                </ul>
                <h4 className="text-xl font-medium text-gray-800 mb-2 mt-4">F. Iteration & Refinement:</h4>
                <ul className="list-disc list-inside text-gray-700 ml-4 space-y-2">
                  <li>Based on testing, refine the design. This is an iterative loop.</li>
                  <li>Optimize for performance, cost, size, reliability, etc.</li>
                </ul>
              </section>

              {/* Troubleshooting Mechatronic Systems */}
              <section className="mb-8">
                <h3 className="text-2xl font-semibold text-indigo-700 mb-3 flex items-center">
                    <Wrench className="w-7 h-7 mr-3 text-red-600"/>
                    2. Troubleshooting Mechatronic Systems
                </h3>
                <p className="text-gray-700 leading-relaxed mb-2">
                  A systematic approach to identifying and resolving problems.
                </p>
                <h4 className="text-xl font-medium text-gray-800 mb-2 mt-4">A. Systematic Approach:</h4>
                <ul className="list-disc list-inside text-gray-700 ml-4 space-y-2">
                  <li><span className="font-medium">Observe & Document:</span> What exactly is happening (or not happening)? When? Is it consistent? What were the last changes?</li>
                  <li><span className="font-medium">Isolate the Problem:</span> Divide and conquer. Break the system into smaller modules (power, sensor, controller, actuator). Test each independently.</li>
                  <li><span className="font-medium">Hypothesize & Test:</span> Formulate a theory about the cause, then design and perform tests to confirm or deny it.</li>
                  <li><span className="font-medium">Fix & Verify:</span> Implement a fix, then re-test to ensure the problem is resolved and no new issues are introduced.</li>
                </ul>
                <h4 className="text-xl font-medium text-gray-800 mb-2 mt-4">B. Common Troubleshooting Tools:</h4>
                <ul className="list-disc list-inside text-gray-700 ml-4 space-y-2">
                  <li><span className="font-medium">Digital Multimeter (DMM):</span> Measure voltage, current, resistance, continuity. Essential for checking power, ground, and basic circuit integrity.</li>
                  <li><span className="font-medium">Oscilloscope:</span> Visualize electrical signals over time. Crucial for checking PWM signals, sensor waveforms, communication signals (I2C, SPI, UART).</li>
                  <li><span className="font-medium">Serial Monitor (Arduino IDE):</span> Print debugging messages from your microcontroller. Invaluable for understanding program flow, variable states, and sensor readings.</li>
                  <li><span className="font-medium">Logic Analyzer:</span> For complex digital communication protocols (I2C, SPI) to decode and visualize digital signals.</li>
                </ul>
              </section>

              {/* Practical Considerations */}
              <section className="mb-8">
                <h3 className="text-2xl font-semibold text-indigo-700 mb-3 flex items-center">
                    <Power className="w-7 h-7 mr-3 text-green-600"/>
                    3. Practical Considerations
                </h3>
                <h4 className="text-xl font-medium text-gray-800 mb-2 mt-4">A. Power Management:</h4>
                <ul className="list-disc list-inside text-gray-700 ml-4 space-y-2">
                  <li><span className="font-medium">Power Budgeting:</span> Calculate total current draw for all components. Ensure your power supply can meet peak demands.</li>
                  <li><span className="font-medium">Voltage Regulation:</span> Use voltage regulators (e.g., 7805 for 5V) to provide stable power to sensitive electronics.</li>
                  <li><span className="font-medium">Proper Grounding:</span> All grounds in the system should be connected to a common reference point to avoid ground loops and noise.</li>
                  <li><span className="font-medium">Powering Actuators:</span> Motors and other high-current actuators should typically be powered by a separate, robust power supply, not directly from the microcontroller's regulated output.</li>
                </ul>
                <h4 className="text-xl font-medium text-gray-800 mb-2 mt-4">B. Wiring and Connections:</h4>
                <ul className="list-disc list-inside text-gray-700 ml-4 space-y-2">
                  <li><span className="font-medium">Wire Sizing:</span> Use appropriate wire gauge for the expected current. Thicker wires for higher current.</li>
                  <li><span className="font-medium">Secure Connections:</span> Avoid loose wires. Use soldering, crimping, screw terminals, or proper connectors (e.g., JST, Dupont) for reliable connections, especially in moving parts.</li>
                  <li><span className="font-medium">Noise Mitigation:</span>
                    <ul className="list-circle list-inside ml-4">
                      <li><span className="font-medium">Decoupling Capacitors:</span> Place small capacitors (e.g., 0.1 Î¼F) near IC power pins to filter out high-frequency noise.</li>
                      <li><span className="font-medium">Twisted Pairs/Shielding:</span> For analog signals or noisy environments, twist signal and ground wires or use shielded cables.</li>
                      <li><span className="font-medium">Separate Power Planes:</span> Separate digital and analog ground planes if possible.</li>
                    </ul>
                  </li>
                </ul>
                <h4 className="text-xl font-medium text-gray-800 mb-2 mt-4">C. Enclosures and Packaging:</h4>
                <ul className="list-disc list-inside text-gray-700 ml-4 space-y-2">
                  <li><span className="font-medium">Protection:</span> Protect electronics from dust, moisture, physical damage, and electromagnetic interference (EMI).</li>
                  <li><span className="font-medium">Accessibility:</span> Ensure easy access to power switches, USB ports, adjustment potentiometers, and indicators (LEDs).</li>
                  <li><span className="font-medium">Thermal Management:</span> Provide adequate ventilation or heat sinks for components that generate heat (e.g., motor drivers, voltage regulators).</li>
                  <li><span className="font-medium">Mounting:</span> Securely mount all components to prevent movement and damage from vibration.</li>
                </ul>
              </section>
            </div>
          );
        };

        // Troubleshooting Simulator Sandbox
        const TroubleshootingSimulator = () => {
          const [systemState, setSystemState] = useState('working'); // 'working', 'sensor_fault', 'motor_fault', 'power_issue', 'software_bug'
          const [dmmReading, setDmmReading] = useState('N/A');
          const [serialMonitorOutput, setSerialMonitorOutput] = useState('');
          const [diagnosis, setDiagnosis] = useState('');

          const simulateFault = (faultType) => {
            setSystemState(faultType);
            setDmmReading('N/A');
            setSerialMonitorOutput('');
            setDiagnosis('');
            let msg = `Simulating: ${faultType.replace('_', ' ').toUpperCase()}...\n`;
            switch (faultType) {
              case 'sensor_fault':
                msg += "Sensor output is stuck at 0 or max value.\n";
                setDmmReading("Sensor V_out: 0.0V (Expected: 2.5V)");
                setSerialMonitorOutput("Sensor_Reading: 0\nSensor_Reading: 0\n...");
                break;
              case 'motor_fault':
                msg += "Motor is not moving or moving erratically.\n";
                setDmmReading("Motor Voltage: 0.0V (Expected: 5V when active)");
                setSerialMonitorOutput("Motor_Command: HIGH\nMotor_State: Not Responding\n...");
                break;
              case 'power_issue':
                msg += "System is completely dead or components are underpowered.\n";
                setDmmReading("Main Supply: 3.2V (Expected: 5V)");
                setSerialMonitorOutput("System not booting...");
                break;
              case 'software_bug':
                msg += "System behaves unexpectedly, but hardware seems fine.\n";
                setDmmReading("All voltages nominal.");
                setSerialMonitorOutput("Looping_Error: Value_X is: -1\nProcessing_Data: Invalid input\n...");
                break;
              default:
                msg += "System is working normally.\n";
                setDmmReading("All voltages nominal.");
                setSerialMonitorOutput("System_Status: OK");
                break;
            }
            setDiagnosis(msg);
          };

          const runDiagnosis = () => {
            let currentDiagnosis = "Running diagnostic...\n";
            switch (systemState) {
              case 'sensor_fault':
                currentDiagnosis += "DMM shows abnormal sensor voltage. Serial Monitor shows constant sensor readings. Likely a wiring issue to the sensor or a faulty sensor itself. Check connections and replace sensor if needed.";
                break;
              case 'motor_fault':
                currentDiagnosis += "DMM shows no voltage across motor terminals when commanded. Serial Monitor shows motor commands being sent. Likely a faulty motor driver, loose motor wires, or a seized motor. Check driver connections and motor continuity.";
                break;
              case 'power_issue':
                currentDiagnosis += "DMM shows low voltage at main supply or regulator output. System is unresponsive. Check power supply, main power switch, and voltage regulator for proper operation. Ensure sufficient current capacity.";
                break;
              case 'software_bug':
                currentDiagnosis += "DMM shows correct voltages. Serial Monitor shows unexpected values or logic errors. This indicates a software bug. Review code logic, variable types, and conditional statements. Use Serial.print() extensively.";
                break;
              case 'working':
              default:
                currentDiagnosis += "System appears to be working correctly. No major faults detected.";
                break;
            }
            setDiagnosis(currentDiagnosis);
          };

          const resetSimulator = () => {
            setSystemState('working');
            setDmmReading('N/A');
            setSerialMonitorOutput('');
            setDiagnosis('');
          };

          return (
            <div className="p-6 bg-white rounded-lg shadow-lg">
              <h2 className="text-3xl font-bold text-gray-800 mb-6 border-b-2 pb-2">Mechatronic System Troubleshooting Simulator</h2>
              <p className="text-gray-700 mb-4">
                Simulate common mechatronic system faults and practice diagnosing them using virtual tools.
              </p>

              <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                {/* Fault Injection */}
                <div className="flex flex-col p-4 border border-gray-200 rounded-lg bg-gray-50">
                  <h3 className="text-xl font-semibold text-gray-800 mb-3">Simulate Fault</h3>
                  <div className="space-y-3">
                    <button onClick={() => simulateFault('working')} className="w-full py-2 px-4 rounded-md font-semibold bg-green-500 text-white hover:bg-green-600 transition duration-300">No Fault (Working)</button>
                    <button onClick={() => simulateFault('sensor_fault')} className="w-full py-2 px-4 rounded-md font-semibold bg-yellow-500 text-gray-800 hover:bg-yellow-600 transition duration-300">Sensor Fault</button>
                    <button onClick={() => simulateFault('motor_fault')} className="w-full py-2 px-4 rounded-md font-semibold bg-orange-500 text-white hover:bg-orange-600 transition duration-300">Actuator (Motor) Fault</button>
                    <button onClick={() => simulateFault('power_issue')} className="w-full py-2 px-4 rounded-md font-semibold bg-red-500 text-white hover:bg-red-600 transition duration-300">Power Issue</button>
                    <button onClick={() => simulateFault('software_bug')} className="w-full py-2 px-4 rounded-md font-semibold bg-purple-500 text-white hover:bg-purple-600 transition duration-300">Software Bug</button>
                  </div>
                </div>

                {/* Diagnostic Tools & Output */}
                <div className="flex flex-col p-4 border border-gray-200 rounded-lg bg-gray-50">
                  <h3 className="text-xl font-semibold text-gray-800 mb-3">Diagnostic Tools</h3>
                  <div className="mb-4">
                    <p className="font-semibold text-gray-700">Digital Multimeter (DMM) Reading:</p>
                    <div className="bg-gray-800 text-green-400 p-2 rounded-md font-mono text-sm">{dmmReading}</div>
                  </div>
                  <div className="mb-4">
                    <p className="font-semibold text-gray-700">Serial Monitor Output:</p>
                    <div className="bg-gray-800 text-green-400 p-2 rounded-md h-24 overflow-y-auto font-mono text-sm whitespace-pre-wrap">{serialMonitorOutput}</div>
                  </div>
                  <button
                    onClick={runDiagnosis}
                    className="bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition duration-300 ease-in-out shadow-md mb-3"
                  >
                    Run Diagnosis
                  </button>
                  <button
                    onClick={resetSimulator}
                    className="bg-gray-300 text-gray-800 py-2 px-4 rounded-md hover:bg-gray-400 transition duration-300 ease-in-out shadow-md"
                  >
                    Reset Simulator
                  </button>
                </div>
              </div>

              <div className="mt-6 p-4 bg-blue-100 border border-blue-400 text-blue-700 rounded-md font-semibold whitespace-pre-wrap">
                <h3 className="text-xl font-bold mb-2">Diagnosis:</h3>
                {diagnosis || "Select a fault to begin diagnosis."}
              </div>
            </div>
          );
        };


        // Practice Problems Component
        const PracticeProblems = () => {
          const [activeTab, setActiveTab] = useState('homework');

          const homeworkQuestions = [
            {
              id: 1,
              type: 'text',
              question: 'Outline the typical iterative steps of the mechatronic design process, from defining the problem to refinement.',
              answer: 'The typical iterative steps of the mechatronic design process are:\n1.  <span class="font-bold">Define Problem & Requirements:</span> Clearly state the problem to be solved and define all functional, performance, environmental, safety, cost, size, and user interface requirements.\n2.  <span class="font-bold">Conceptual Design:</span> Brainstorm potential solutions, develop high-level block diagrams, and select appropriate sensor, actuator, and control strategies (e.g., open-loop vs. closed-loop).\n3.  <span class="font-bold">Detailed Design:</span> Select specific components, design mechanical structures, electrical circuits (schematics, PCB layout), and control algorithms (flowcharts, pseudocode). Perform detailed calculations.\n4.  <span class="font-bold">Prototyping & Implementation:</span> Build a physical prototype, write and test software, and integrate hardware and software components.\n5.  <span class="font-bold">Testing & Validation:</span> Verify that the system meets all defined requirements through functional, performance, and stress tests. Identify and troubleshoot issues.\n6.  <span class="font-bold">Iteration & Refinement:</span> Based on testing results, refine the design, optimize performance, cost, size, and reliability. This step often leads back to earlier design stages.',
              explanation: 'The mechatronic design process is not linear but iterative, allowing for continuous improvement and problem-solving at each stage. It emphasizes an interdisciplinary approach.'
            },
            {
              id: 2,
              type: 'text',
              question: 'You are troubleshooting a mechatronic system where a DC motor is not spinning, even though your Arduino code is sending the correct HIGH signal to the motor driver. Describe a systematic approach using at least two different troubleshooting tools to identify the problem.',
              answer: 'Systematic Troubleshooting Approach:\n1.  <span class="font-bold">Observe & Document:</span> Confirm the motor is not spinning. Check if any LEDs on the motor driver are behaving unusually. Note the exact conditions.\n2.  <span class="font-bold">Isolate the Problem (Controller vs. Driver vs. Motor):</span>\n    * <span class="font-bold">Check Arduino Output (Controller):</span> Use the <span class="font-bold">Arduino Serial Monitor</span>. Add `Serial.print()` statements in your code to confirm that the digital pin controlling the motor driver is indeed going HIGH as expected. If the Serial Monitor shows the command is sent, the Arduino code is likely okay.\n    * <span class="font-bold">Check Power Supply:</span> Use a <span class="font-bold">Digital Multimeter (DMM)</span> to measure the voltage at the motor driver\'s power input terminals. Ensure it matches the required voltage for the motor/driver (e.g., 12V). Also, check the voltage at the Arduino\'s 5V/3.3V pins to ensure it\'s stable.\n    * <span class="font-bold">Check Driver Output:</span> While the Arduino is commanding the motor ON, use the <span class="font-bold">DMM</span> to measure the voltage directly across the motor terminals connected to the H-bridge output. If the DMM reads 0V (or very low voltage) while the Arduino is commanding HIGH, it suggests the motor driver is faulty or not receiving power/signal correctly.\n    * <span class="font-bold">Check Motor Itself:</span> Disconnect the motor from the driver. Use the <span class="font-bold">DMM</span> to check the motor\'s continuity (resistance) across its terminals. Apply a small voltage directly from a battery to the motor to see if it spins. If it doesn\'t, the motor itself might be faulty (e.g., seized, broken windings).\n3.  <span class="font-bold">Hypothesize & Test:</span> Based on DMM and Serial Monitor readings, form a hypothesis (e.g., "The motor driver is not getting power," "The motor is seized"). Perform specific tests to confirm.\n4.  <span class="font-bold">Fix & Verify:</span> Once the problem is identified (e.g., loose wire, faulty driver, seized motor), implement the fix and re-test the entire system to ensure functionality and that no new issues arise.',
              explanation: 'A systematic approach helps narrow down the problem. By starting from the controller and moving towards the actuator, and using appropriate tools like the Serial Monitor (for software/logic) and DMM (for electrical measurements), you can efficiently pinpoint the root cause of the malfunction.'
            },
            {
              id: 3,
              type: 'multiple_choice',
              question: 'Why is it generally recommended to power high-current actuators (like DC motors) from a separate power supply rather than directly from the microcontroller\'s regulated output (e.g., Arduino\'s 5V pin)?',
              options: [
                'A) To prevent the microcontroller from overheating.',
                'B) To provide higher voltage to the actuators than the microcontroller can supply.',
                'C) To avoid noise from the motor interfering with sensitive microcontroller operations and to ensure sufficient current.',
                'D) To make the system more compact and reduce wiring.'
              ],
              correctAnswer: 'C) To avoid noise from the motor interfering with sensitive microcontroller operations and to ensure sufficient current.',
              explanation: 'Motors draw significant, often fluctuating, currents and can generate electrical noise (back-EMF, brush noise). Powering them from the same regulated supply as the microcontroller can cause voltage dips and introduce noise onto the microcontroller\'s power lines, leading to erratic behavior or resets. A separate power supply ensures both components receive stable, clean power, and the motor gets the high current it needs without impacting the microcontroller.'
            },
            {
              id: 4,
              type: 'text',
              question: 'When designing the wiring for a mechatronic system, why are "secure connections" (e.g., soldering, crimping, screw terminals) preferred over simple breadboard connections, especially for a final prototype or product?',
              answer: 'Secure connections like soldering, crimping, and screw terminals are preferred over simple breadboard connections for a final prototype or product due to several critical reasons:\n1.  <span class="font-bold">Reliability:</span> Breadboard connections are temporary and prone to intermittent contact due to vibration, movement, or oxidation. Secure connections provide a much more stable and reliable electrical path, crucial for consistent system operation.\n2.  <span class="font-bold">Current Capacity:</span> Breadboard wires and contacts are typically thin and have limited current-carrying capacity. Soldered or crimped connections, especially with appropriately sized wires, can handle much higher currents safely without overheating.\n3.  <span class="font-bold">Mechanical Robustness:</span> Breadboard wires can easily pull out or become loose with physical stress. Secure connections are mechanically robust, resisting vibration, tugs, and environmental factors, which is vital for deployable systems (e.g., robots, industrial equipment).\n4.  <span class="font-bold">Noise Reduction:</span> Loose or high-resistance connections can introduce electrical noise. Secure connections minimize this, leading to cleaner signals and more stable operation.',
              explanation: 'Breadboards are excellent for rapid prototyping but are fundamentally unreliable for long-term or high-stress applications. Secure connections address issues of reliability, current handling, mechanical integrity, and noise, which are paramount for robust mechatronic systems.'
            },
            {
              id: 5,
              type: 'text',
              question: 'What is the purpose of decoupling capacitors in a mechatronic circuit, and where are they typically placed?',
              answer: 'Purpose of Decoupling Capacitors: Decoupling capacitors (also known as bypass capacitors) are used to <span class="font-bold">filter out high-frequency noise and provide a stable, local power source</span> for integrated circuits (ICs) and other sensitive components. When an IC rapidly switches (e.g., a microcontroller processing data or a motor driver switching current), it can draw sudden, brief bursts of current, causing momentary voltage dips on the power supply line. Decoupling capacitors act as small, local reservoirs of charge that can quickly supply these current demands, preventing voltage fluctuations and noise from affecting the IC\'s operation or propagating to other parts of the circuit.\n\nPlacement: They are typically placed <span class="font-bold">as close as possible to the power (VCC) and ground (GND) pins of the ICs</span> they are protecting. The closer they are, the more effective they are at suppressing high-frequency noise.',
              explanation: 'Decoupling capacitors are critical for maintaining power integrity, especially in digital circuits where components draw current in rapid, short pulses. Their close proximity to the IC minimizes inductance and resistance, making them highly effective at filtering out transient noise.'
            }
          ];

          const [homeworkAnswers, setHomeworkAnswers] = useState({});
          const [multipleChoiceSelections, setMultipleChoiceSelections] = useState({});
          const [quizResults, setQuizResults] = useState({}); // For multiple choice validation

          const handleHomeworkChange = (id, value) => {
            setHomeworkAnswers(prev => ({
              ...prev,
              [id]: value
            }));
          };

          const handleMultipleChoiceSelect = (questionId, selectedOption) => {
            setMultipleChoiceSelections(prev => ({
              ...prev,
              [questionId]: selectedOption
            }));
          };

          const checkQuizAnswers = () => {
            const newResults = {};
            homeworkQuestions.forEach(q => {
              if (q.type === 'multiple_choice') {
                newResults[q.id] = multipleChoiceSelections[q.id] === q.correctAnswer;
              }
            });
            setQuizResults(newResults);
          };

          const resetQuiz = () => {
            setMultipleChoiceSelections({});
            setQuizResults({});
          };


          return (
            <div className="p-6 bg-white rounded-lg shadow-lg">
              <h2 className="text-3xl font-bold text-gray-800 mb-6 border-b-2 pb-2">Practice Problems</h2>

              <div className="flex mb-6 space-x-4">
                <button
                  onClick={() => setActiveTab('homework')}
                  className={`px-6 py-3 rounded-md font-semibold transition duration-300 ${
                    activeTab === 'homework' ? 'bg-indigo-600 text-white shadow-md' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
                  }`}
                >
                  Homework Questions
                </button>
              </div>

              {activeTab === 'homework' && (
                <div>
                  <h3 className="text-2xl font-semibold text-indigo-700 mb-4 flex items-center">
                    <BookOpenText className="w-7 h-7 mr-3 text-blue-500"/>
                    Homework Questions
                  </h3>
                  <p className="text-gray-700 mb-4">
                    Instructions: Show all work and steps clearly.
                  </p>
                  {homeworkQuestions.map((q) => (
                    <div key={q.id} className="mb-8 p-4 border border-gray-200 rounded-lg bg-gray-50">
                      <p className="text-lg font-medium text-gray-900 mb-3">{q.id}. {q.question}</p>
                      {q.type === 'text' ? (
                        <textarea
                          className="w-full p-3 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 h-24"
                          placeholder="Type your answer here..."
                          value={homeworkAnswers[q.id] || ''}
                          onChange={(e) => handleHomeworkChange(q.id, e.target.value)}
                        ></textarea>
                      ) : q.type === 'multiple_choice' ? (
                        <div className="space-y-2">
                          {q.options.map((option, index) => (
                            <label key={index} className="flex items-center text-gray-700 cursor-pointer">
                              <input
                                type="radio"
                                name={`quiz-${q.id}`}
                                value={option}
                                checked={multipleChoiceSelections[q.id] === option}
                                onChange={() => handleMultipleChoiceSelect(q.id, option)}
                                className="form-radio h-4 w-4 text-indigo-600"
                              />
                              <span className="ml-2">{option}</span>
                            </label>
                          ))}
                        </div>
                      ) : null}
                      {q.type === 'multiple_choice' && quizResults[q.id] !== undefined && (
                        <div className="mt-3 flex items-center">
                          {quizResults[q.id] ? (
                            <CheckCircle className="text-green-500 mr-2" />
                          ) : (
                            <XCircle className="text-red-500 mr-2" />
                          )}
                          <span className={`font-semibold ${quizResults[q.id] ? 'text-green-700' : 'text-red-700'}`}>
                            {quizResults[q.id] ? 'Correct!' : 'Incorrect.'}
                          </span>
                        </div>
                      )}
                      {q.type === 'multiple_choice' && quizResults[q.id] !== undefined && !quizResults[q.id] && (
                        <div className="mt-2 text-sm text-gray-600">
                          <p className="font-medium">Correct Answer: {q.correctAnswer}</p>
                        </div>
                      )}
                      <details className="mt-4 p-3 bg-indigo-50 rounded-md cursor-pointer">
                        <summary className="font-semibold text-indigo-800">Show Explanation/Answer</summary>
                        <div className="mt-2 text-indigo-700">
                          <p className="whitespace-pre-wrap">{q.explanation}</p>
                        </div >
                      </details>
                    </div>
                  ))}
                  <div className="flex gap-4 mt-6">
                    <button
                      onClick={checkQuizAnswers}
                      className="flex-1 bg-indigo-600 text-white py-3 px-6 rounded-md hover:bg-indigo-700 transition duration-300 ease-in-out shadow-md"
                    >
                      Check Multiple Choice Answers
                    </button>
                    <button
                      onClick={resetQuiz}
                      className="flex-1 bg-gray-300 text-gray-800 py-3 px-6 rounded-md hover:bg-gray-400 transition duration-300 ease-in-out shadow-md"
                    >
                      Reset Multiple Choice
                    </button>
                  </div>
                </div>
              )}
            </div>
          );
        };


        // Main App Component
        const App = () => {
          const [activeSection, setActiveSection] = useState('review'); // 'review', 'sandbox', 'practice'

          return (
            <div className="min-h-screen bg-gray-100 font-inter text-gray-900 p-4 sm:p-6 md:p-8">
              <header className="text-center mb-8">
                <h1 className="text-4xl sm:text-5xl font-extrabold text-indigo-800 mb-2">
                  Mechatronics 1 Study Guide
                </h1>
                <p className="text-xl sm:text-2xl text-gray-600">Week 15: Mechatronic Design Process & Practical Considerations</p>
                <a href="index.html" className="mt-4 inline-flex items-center bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300 transition duration-300">
                    <Home className="w-5 h-5 mr-2" />
                    Back to Course Hub
                </a>
              </header>

              <nav className="flex justify-center gap-4 mb-8 flex-wrap">
                <button
                  onClick={() => setActiveSection('review')}
                  className={`nav-button ${activeSection === 'review' ? 'active' : ''}`}
                >
                  <BookOpenText className="w-6 h-6 sm:w-8 sm:h-8" />
                  <span className="text-sm sm:text-base">Concept Review</span>
                </button>
                <button
                  onClick={() => setActiveSection('sandbox')}
                  className={`nav-button ${activeSection === 'sandbox' ? 'active' : ''}`}
                >
                  <FlaskConical className="w-6 h-6 sm:w-8 sm:h-8" />
                  <span className="text-sm sm:text-base">Interactive Sandbox</span>
                </button>
                <button
                  onClick={() => setActiveSection('practice')}
                  className={`nav-button ${activeSection === 'practice' ? 'active' : ''}`}
                >
                  <Award className="w-6 h-6 sm:w-8 sm:h-8" />
                  <span className="text-sm sm:text-base">Practice Problems</span>
                </button>
              </nav>

              <main className="container">
                {activeSection === 'review' && <ConceptReview />}
                {activeSection === 'sandbox' && <TroubleshootingSimulator />}
                {activeSection === 'practice' && <PracticeProblems />}
              </main>

              <footer className="text-center text-gray-500 text-sm mt-12">
                <p>&copy; {new Date().getFullYear()} Mechatronics 1 Study Guide. All rights reserved.</p>
              </footer>
            </div>
          );
        };

        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(<App />);
    </script>
</body>
</html>
